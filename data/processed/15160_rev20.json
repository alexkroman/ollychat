[
  {
    "name": "Deployment Healthy POD Replicas",
    "description": "Healthy replicas as scaled by the HPA (Horizontal POD Autoscaler) for this Deployment",
    "query": "sum by (cluster) (kube_deployment_status_replicas_available)",
    "metrics": [
      "kube_deployment_status_replicas_available"
    ]
  },
  {
    "name": "CPU Throttling Time",
    "description": "Throttled seconds in 1 minute slices. Safe to ignore if < 1 second. If you're seeing excessive CPU throttling, you should investigate whether your CPU requests/limits are sufficient, or understand what's causing high CPU use.",
    "query": "avg by (cluster)(rate(container_cpu_cfs_throttled_seconds_total[30m]))",
    "metrics": [
      "container_cpu_cfs_throttled_seconds_total"
    ]
  },
  {
    "name": "Current Container Image Tag",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "kube_pod_container_info",
    "metrics": [
      "kube_pod_container_info"
    ]
  },
  {
    "name": "CPU HPA",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "(max by (cluster) (rate(container_cpu_usage_seconds_total[30m]))) / max(kube_pod_container_resource_requests) by (cluster) * 100",
    "metrics": [
      "container_cpu_usage_seconds_total",
      "kube_pod_container_resource_requests"
    ]
  },
  {
    "name": "Deployment Healthy POD Replicas",
    "description": "Healthy replicas as scaled by the HPA (Horizontal POD Autoscaler) for this Deployment",
    "query": "sum by (cluster) (kube_deployment_status_replicas_available)",
    "metrics": [
      "kube_deployment_status_replicas_available"
    ]
  },
  {
    "name": "Disk I/O (Bytes)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "sum by (cluster) (rate (container_fs_reads_bytes_total[30m])) ",
    "metrics": [
      "container_fs_reads_bytes_total"
    ]
  },
  {
    "name": "Disk I/O (Bytes)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "-sum by (cluster)(rate (container_fs_writes_bytes_total[30m]))",
    "metrics": [
      "container_fs_writes_bytes_total"
    ]
  },
  {
    "name": "Disk I/O (IOPS)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "sum by (cluster)(rate (container_fs_reads_total[30m])) ",
    "metrics": [
      "container_fs_reads_total"
    ]
  },
  {
    "name": "Disk I/O (IOPS)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "-sum by (cluster)(rate (container_fs_writes_total[30m]))",
    "metrics": [
      "container_fs_writes_total"
    ]
  },
  {
    "name": "Network I/O",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "sum by (cluster)(rate (container_network_receive_bytes_total[30m])) ",
    "metrics": [
      "container_network_receive_bytes_total"
    ]
  },
  {
    "name": "Network I/O",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "-sum by (cluster)(rate (container_network_transmit_bytes_total[30m]))",
    "metrics": [
      "container_network_transmit_bytes_total"
    ]
  },
  {
    "name": "Workload Replicas (PODs)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "kube_horizontalpodautoscaler_status_current_replicas",
    "metrics": [
      "kube_horizontalpodautoscaler_status_current_replicas"
    ]
  },
  {
    "name": "Workload Replicas (PODs)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "kube_horizontalpodautoscaler_status_desired_replicas",
    "metrics": [
      "kube_horizontalpodautoscaler_status_desired_replicas"
    ]
  },
  {
    "name": "Workload Replicas (PODs)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "kube_horizontalpodautoscaler_spec_min_replicas",
    "metrics": [
      "kube_horizontalpodautoscaler_spec_min_replicas"
    ]
  },
  {
    "name": "Workload Replicas (PODs)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "kube_horizontalpodautoscaler_spec_max_replicas",
    "metrics": [
      "kube_horizontalpodautoscaler_spec_max_replicas"
    ]
  },
  {
    "name": "Workload Replicas (PODs)",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "kube_deployment_status_replicas_unavailable",
    "metrics": [
      "kube_deployment_status_replicas_unavailable"
    ]
  },
  {
    "name": "Total vCPU's Allocated to Workload",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "sum by (cluster)(kube_pod_container_resource_requests)",
    "metrics": [
      "kube_pod_container_resource_requests"
    ]
  },
  {
    "name": "Total vCPU's Allocated to Workload",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "sum by (cluster)(kube_pod_container_resource_requests)",
    "metrics": [
      "kube_pod_container_resource_requests"
    ]
  },
  {
    "name": "Total Memory Allocated to Workload",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "sum by (cluster)(kube_pod_container_resource_requests)",
    "metrics": [
      "kube_pod_container_resource_requests"
    ]
  },
  {
    "name": "Total Memory Allocated to Workload",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "sum by (cluster)(kube_pod_container_resource_requests)",
    "metrics": [
      "kube_pod_container_resource_requests"
    ]
  },
  {
    "name": "POD Restarts",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "count by (cluster,pod)(delta(kube_pod_container_status_restarts_total[30m]) > 0)",
    "metrics": [
      "kube_pod_container_status_restarts_total"
    ]
  },
  {
    "name": "OOM Kills",
    "description": "Watch performance, errors, latency, and infrastructure metrics for your workload",
    "query": "sum by (cluster)(node_vmstat_oom_kill)",
    "metrics": [
      "node_vmstat_oom_kill"
    ]
  }
]