[
  {
    "name": "Instance",
    "description": "Otel Collector Instance",
    "queries": [
      "count(count(otelcol_process_cpu_seconds) by (service_instance_id))"
    ]
  },
  {
    "name": "Cpu",
    "description": "otelcol_process_cpu_seconds",
    "queries": [
      "avg(rate(otelcol_process_cpu_seconds[30m])*100) by (instance)"
    ]
  },
  {
    "name": "Memory",
    "description": "Memory Rss\navg(otelcol_process_memory_rss{}) by (instance)",
    "queries": [
      "avg(otelcol_process_memory_rss) by (instance)"
    ]
  },
  {
    "name": "Export Ratio",
    "description": "(avg(sum by(job) (rate(otelcol_exporter_sent_spans{}[$__range]))) / avg(sum by(job) (rate(otelcol_receiver_accepted_spans{}[$__range])))) ",
    "queries": [
      "avg(sum by(job) (rate(otelcol_exporter_sent_spans[$__range])))",
      "avg(sum by(job) (rate(otelcol_receiver_accepted_spans[$__range])))",
      "(avg(sum by(job) (rate(otelcol_exporter_sent_spans[$__range]))) / avg(sum by(job) (rate(otelcol_receiver_accepted_spans[$__range])))) "
    ]
  },
  {
    "name": "",
    "description": "",
    "queries": [
      "label_join(label_join(\n(rate(otelcol_receiver_accepted_spans[$__interval]))\n, \"id\", \"\", \"transport\", \"receiver\")\n, \"title\", \"\", \"transport\", \"receiver\")\n\nor\n\nlabel_replace(label_replace(\nsum by(service_name) (rate(otelcol_receiver_accepted_spans[$__interval]))\n, \"id\", \"processor\", \"dummynode\", \"\")\n, \"title\", \"processor\", \"dummynode\", \"\")\n\nor\nlabel_replace(label_replace(\n(rate(otelcol_processor_batch_batch_send_size_count[$__interval]))\n, \"id\", \"$0\", \"processor\", \".*\")\n, \"title\", \"$0\", \"processor\", \".*\")\n\nor\nlabel_replace(label_replace(\nsum by(exporter) (rate(otelcol_exporter_sent_spans[$__interval]))\n, \"id\", \"exporter\", \"dummynode\", \"\")\n, \"title\", \"exporter\", \"dummynode\", \"\")\n        \nor\nlabel_replace(label_replace(\nsum by(exporter) (rate(otelcol_exporter_sent_spans[$__interval]))\n, \"id\", \"$0\", \"exporter\", \".*\")\n, \"title\", \"$0\", \"exporter\", \".*\")",
      "label_join(\nlabel_replace(label_join(\n(rate(otelcol_receiver_accepted_spans[$__interval]))\n\n ,\"source\",\"\",\"transport\",\"receiver\")\n,\"target\",\"processor\",\"\",\"\")\n,\"id\",\"-\",\"source\",\"target\")\n\n  or\n\n  label_join(\nlabel_replace(label_replace(\n  (rate(otelcol_processor_batch_batch_send_size_count[$__interval]))\n ,\"source\",\"processor\",\"\",\"\")\n,\"target\",\"$0\",\"processor\",\".*\")\n,\"id\",\"-\",\"source\",\"target\")\n\nor\n  label_join(\nlabel_replace(label_replace(\n    (rate(otelcol_processor_batch_batch_send_size_count[$__interval]))\n ,\"source\",\"$0\",\"processor\",\".*\")\n,\"target\",\"exporter\",\"\",\"\")\n,\"id\",\"-\",\"source\",\"target\")\n\nor\n  label_join(\nlabel_replace(label_replace(\n   (rate(otelcol_exporter_sent_spans[$__interval]))\n ,\"source\",\"exporter\",\"\",\"\")\n,\"target\",\"$0\",\"exporter\",\".*\")\n,\"id\",\"-\",\"source\",\"target\")\n\n"
    ]
  },
  {
    "name": "Accepted",
    "description": "Spans Accepted by Receiver and Transport",
    "queries": [
      "sum(rate(otelcol_receiver_accepted_spans[30m])) by (receiver,transport)"
    ]
  },
  {
    "name": "Total ",
    "description": "Total Spans Accepted ",
    "queries": [
      "sum(rate(otelcol_receiver_accepted_spans[30m])) "
    ]
  },
  {
    "name": "Batch",
    "description": "Total Batch Processed",
    "queries": [
      "sum(rate(otelcol_processor_batch_batch_send_size_sum[30m]))  by (processor)"
    ]
  },
  {
    "name": "Total ",
    "description": "",
    "queries": [
      "sum(rate(otelcol_exporter_sent_spans[$__interval])) "
    ]
  },
  {
    "name": "Sent",
    "description": "Sent by Exporter",
    "queries": [
      "sum(rate(otelcol_exporter_sent_spans[30m])) by (exporter)"
    ]
  },
  {
    "name": "Refused",
    "description": "",
    "queries": [
      "sum(rate(otelcol_receiver_refused_spans[30m])) by (receiver,transport)"
    ]
  },
  {
    "name": "Total ",
    "description": "Total Spans Accepted ",
    "queries": [
      "sum(rate(otelcol_receiver_refused_spans[30m])) "
    ]
  },
  {
    "name": "Total ",
    "description": "otelcol_exporter_send_failed_spans",
    "queries": [
      "sum(rate(otelcol_exporter_send_failed_spans[30m])) "
    ]
  },
  {
    "name": "Failed",
    "description": "Sent by Exporter\notelcol_exporter_send_failed_spans",
    "queries": [
      "sum(rate(otelcol_exporter_send_failed_spans[30m])) by (exporter)"
    ]
  },
  {
    "name": "Export Ratio",
    "description": "avg(sum by(job) (rate(otelcol_exporter_sent_metric_points{}[$__range]))) versus avg(sum by(job) (rate(otelcol_receiver_accepted_metric_points{}[$__range])))",
    "queries": [
      "avg(sum by(job) (rate(otelcol_exporter_sent_metric_points[$__range])))",
      "avg(sum by(job) (rate(otelcol_receiver_accepted_metric_points[$__range])))",
      "( avg(sum by(job) (rate(otelcol_exporter_sent_metric_points[$__range]))) /avg(sum by(job) (rate(otelcol_receiver_accepted_metric_points[$__range]))))"
    ]
  },
  {
    "name": "",
    "description": "Metrics Signalling Pipelines",
    "queries": [
      "\nlabel_join(label_join(\n(rate(otelcol_receiver_accepted_metric_points[$__interval]))\n, \"id\", \"\", \"transport\", \"receiver\")\n, \"title\", \"\", \"transport\", \"receiver\")\n\nor\n\nlabel_replace(label_replace(\nsum by(service_name) (rate(otelcol_receiver_accepted_spans[$__interval]))\n, \"id\", \"processor\", \"dummynode\", \"\")\n, \"title\", \"processor\", \"dummynode\", \"\")\n\n\n\nor\nlabel_replace(label_replace(\n(rate(otelcol_processor_batch_batch_send_size_count[$__interval]))\n, \"id\", \"$0\", \"processor\", \".*\")\n, \"title\", \"$0\", \"processor\", \".*\")\n\n\n\n\n\nor\nlabel_replace(label_replace(\nsum (rate(otelcol_exporter_sent_metric_points[$__interval]))\n, \"id\", \"exporter\", \"dummynode\", \"\")\n, \"title\", \"exporter\", \"dummynode\", \"\")\n\nor\nlabel_replace(label_replace(\nsum by(exporter) (rate(otelcol_exporter_sent_metric_points[$__interval]))\n, \"id\", \"$0\", \"exporter\", \".*\")\n, \"title\", \"$0\", \"exporter\", \".*\")",
      "label_join(\nlabel_replace(label_join(\n(rate(otelcol_receiver_accepted_metric_points[$__interval]))\n\n,\"source\",\"\",\"transport\",\"receiver\")\n,\"target\",\"processor\",\"\",\"\")\n,\"id\",\"-\",\"source\",\"target\")\n\n\nor\n\nlabel_join(\nlabel_replace(label_replace(\n(rate(otelcol_processor_batch_batch_send_size_count[$__interval]))\n,\"source\",\"processor\",\"\",\"\")\n,\"target\",\"$0\",\"processor\",\".*\")\n,\"id\",\"-\",\"source\",\"target\")\n\n\n\n\n\nor\n\n\nlabel_join(\nlabel_replace(label_replace(\n(rate(otelcol_processor_batch_batch_send_size_count[$__interval]))\n,\"source\",\"$0\",\"processor\",\".*\")\n,\"target\",\"exporter\",\"\",\"\")\n,\"id\",\"-\",\"source\",\"target\")\n\nor\nlabel_join(\nlabel_replace(label_replace(\n(rate(otelcol_exporter_sent_metric_points[$__interval]))\n,\"source\",\"exporter\",\"\",\"\")\n,\"target\",\"$0\",\"exporter\",\".*\")\n,\"id\",\"-\",\"source\",\"target\")"
    ]
  },
  {
    "name": "Accepted",
    "description": "otelcol_receiver_accepted_metric_points",
    "queries": [
      "sum(rate(otelcol_receiver_accepted_metric_points[30m])) by (receiver,transport)"
    ]
  },
  {
    "name": "Total ",
    "description": "otelcol_receiver_accepted_metric_points\nTotal Accepted ",
    "queries": [
      "sum(rate(otelcol_receiver_accepted_metric_points[30m])) "
    ]
  },
  {
    "name": "Batch",
    "description": "",
    "queries": [
      "sum(rate(otelcol_processor_batch_batch_send_size_sum[30m]))  by (processor)"
    ]
  },
  {
    "name": "Total ",
    "description": "Total Export ",
    "queries": [
      "sum(rate(otelcol_exporter_sent_metric_points[30m])) "
    ]
  },
  {
    "name": "Sent",
    "description": "Sent by Exporter",
    "queries": [
      "sum(rate(otelcol_exporter_sent_metric_points[30m])) by (exporter) "
    ]
  },
  {
    "name": "Refused",
    "description": "",
    "queries": [
      "sum(rate(otelcol_receiver_refused_metric_points[30m])) by (receiver,transport)"
    ]
  },
  {
    "name": "Total ",
    "description": "Total Refused \nsum(rate(otelcol_receiver_refused_metric_points{}[$__rate_interval])) ",
    "queries": [
      "sum(rate(otelcol_receiver_refused_metric_points[30m])) "
    ]
  },
  {
    "name": "Total",
    "description": "Total Failed Export ",
    "queries": [
      "sum(rate(otelcol_exporter_send_failed_metric_points[30m])) "
    ]
  },
  {
    "name": "Failed",
    "description": "Sent by Exporter\notelcol_exporter_send_failed_spans",
    "queries": [
      "sum(rate(otelcol_exporter_send_failed_metric_points[30m])) by (exporter)"
    ]
  },
  {
    "name": "Exported/Scraped",
    "description": "otelcol prometheus exporter 9464 export rate versus prometheus scrape metrics",
    "queries": [
      "(sum_over_time(scrape_samples_scraped[$__range])/ count_over_time(scrape_samples_scraped[$__range])/(5*30)) ",
      "(sum(rate(otelcol_exporter_sent_metric_points[30m])) )"
    ]
  },
  {
    "name": "Samples Scraped",
    "description": "sum_over_time(scrape_samples_scraped[$__range])/ count_over_time(scrape_samples_scraped[$__range])",
    "queries": [
      "sum_over_time(scrape_samples_scraped[$__range])/ count_over_time(scrape_samples_scraped[$__range])/(5*30)"
    ]
  },
  {
    "name": "Total",
    "description": "scrape_samples_scraped{job!=\"\"}\nTotal Samples Scraped",
    "queries": [
      "sum_over_time(scrape_samples_scraped[$__range])/ count_over_time(scrape_samples_scraped[$__range])/(5*30)"
    ]
  },
  {
    "name": "",
    "description": "",
    "queries": [
      "label_replace(label_replace(label_replace(\nsum (scrape_samples_scraped) by (instance)\n, \"id\", \"$0\", \"instance\", \".*\")\n, \"title\", \"$0\", \"instance\", \".*\")\n,\"mainstat\",\"\",\"\",\"\")\n\nor \n\nlabel_replace(label_replace(label_replace(\nsum (scrape_samples_scraped)\n, \"id\", \"prometheus\", \"\", \"\")\n, \"title\", \"prometheus\", \"\", \"\")\n,\"mainstat\",\"\",\"\",\"\")\n",
      "label_join(\nlabel_replace(label_replace(\nsum (scrape_samples_scraped) by (instance)\n,\"source\",\"$0\",\"instance\",\".*\")\n,\"target\",\"prometheus\",\"\",\"\")\n,\"id\",\"-\",\"source\",\"target\")"
    ]
  }
]