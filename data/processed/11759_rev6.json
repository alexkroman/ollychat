[
  {
    "name": "Requests (total)",
    "description": "",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (proto)",
      "sum(rate(coredns_dns_requests_total[5m]))"
    ]
  },
  {
    "name": "Requests (by qtype)",
    "description": "",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (type)"
    ]
  },
  {
    "name": "Requests (by zone)",
    "description": "",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (zone)",
      "sum(rate(coredns_dns_requests_total[5m]))"
    ]
  },
  {
    "name": "Requests (by service)",
    "description": "Total Requests by service on all nodes",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (service)"
    ]
  },
  {
    "name": "Requests (by node and pod)",
    "description": "Seperates requests by instance. \nPort 9253: Metrics from NodeLocalCache \nPort 9153: Metrics from Kube-DNS ",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (node,pod)"
    ]
  },
  {
    "name": "Requests (by service) on selected node",
    "description": "Total Requests by service on selected node",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (service)"
    ]
  },
  {
    "name": "Requests (by pod)",
    "description": "Requests by pod on all nodes",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (pod)"
    ]
  },
  {
    "name": "Requests (by zone, qtype)",
    "description": "",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (type, zone)",
      "sum(rate(coredns_dns_requests_total[5m]))"
    ]
  },
  {
    "name": "Requests (DO bit)",
    "description": "",
    "queries": [
      "sum(rate(coredns_dns_do_requests_total[5m]))",
      "sum(rate(coredns_dns_requests_total[5m]))"
    ]
  },
  {
    "name": "Requests (by pod) on selected node",
    "description": "Requests by pod on select node",
    "queries": [
      "sum(rate(coredns_dns_requests_total[5m])) by (pod)"
    ]
  },
  {
    "name": "Requests (size, udp)",
    "description": "",
    "queries": [
      "histogram_quantile(0.99, sum(rate(coredns_dns_request_size_bytes_bucket[5m])) by (le,proto))",
      "histogram_quantile(0.90, sum(rate(coredns_dns_request_size_bytes_bucket[5m])) by (le,proto))",
      "histogram_quantile(0.50, sum(rate(coredns_dns_request_size_bytes_bucket[5m])) by (le,proto))"
    ]
  },
  {
    "name": "Requests (size,tcp)",
    "description": "",
    "queries": [
      "histogram_quantile(0.99, sum(rate(coredns_dns_request_size_bytes_bucket[5m])) by (le,proto))",
      "histogram_quantile(0.90, sum(rate(coredns_dns_request_size_bytes_bucket[5m])) by (le,proto))",
      "histogram_quantile(0.50, sum(rate(coredns_dns_request_size_bytes_bucket[5m])) by (le,proto))"
    ]
  },
  {
    "name": "Responses (by rcode)",
    "description": "",
    "queries": [
      "sum(rate(coredns_dns_responses_total[5m])) by (rcode)"
    ]
  },
  {
    "name": "Responses (duration)",
    "description": "",
    "queries": [
      "histogram_quantile(0.99, sum(rate(coredns_dns_request_duration_seconds_bucket[5m])) by (le, job))",
      "histogram_quantile(0.90, sum(rate(coredns_dns_request_duration_seconds_bucket[5m])) by (le, job))",
      "histogram_quantile(0.50, sum(rate(coredns_dns_request_duration_seconds_bucket[5m])) by (le, job))"
    ]
  },
  {
    "name": "Responses (by rcode,zone)",
    "description": "",
    "queries": [
      "sum(rate(coredns_dns_responses_total[5m])) by (rcode,zone)"
    ]
  },
  {
    "name": "Responses (size, tcp)",
    "description": "",
    "queries": [
      "histogram_quantile(0.99, sum(rate(coredns_dns_response_size_bytes_bucket[5m])) by (le,proto)) ",
      "histogram_quantile(0.90, sum(rate(coredns_dns_response_size_bytes_bucket[5m])) by (le,proto)) ",
      "histogram_quantile(0.50, sum(rate(coredns_dns_response_size_bytes_bucket[5m])) by (le, proto)) "
    ]
  },
  {
    "name": "Cache (size)",
    "description": "",
    "queries": [
      "sum(coredns_cache_entries) by (type)"
    ]
  },
  {
    "name": "Responses (size, udp)",
    "description": "",
    "queries": [
      "histogram_quantile(0.99, sum(rate(coredns_dns_response_size_bytes_bucket[5m])) by (le,proto)) ",
      "histogram_quantile(0.90, sum(rate(coredns_dns_response_size_bytes_bucket[5m])) by (le,proto)) ",
      "histogram_quantile(0.50, sum(rate(coredns_dns_response_size_bytes_bucket[5m])) by (le,proto)) "
    ]
  },
  {
    "name": "Cache (hitrate)",
    "description": "",
    "queries": [
      "sum(rate(coredns_cache_hits_total[5m])) by (type)",
      "sum(rate(coredns_cache_misses_total[5m])) by (type)"
    ]
  }
]