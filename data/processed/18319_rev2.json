[
  {
    "name": "Controller State",
    "description": "",
    "queries": [
      "up"
    ]
  },
  {
    "name": "Controller Reconcile Rate",
    "description": "",
    "queries": [
      "sum by (controller, result) (rate(controller_runtime_reconcile_total[5m]))"
    ]
  },
  {
    "name": "Controller Reconcile Duration",
    "description": "",
    "queries": [
      "histogram_quantile(0.5, \n  sum by (le, controller) (\n    rate(controller_runtime_reconcile_time_seconds_bucket[5m])\n  )\n)",
      "histogram_quantile(0.9, \n  sum by (le, controller) (\n    rate(controller_runtime_reconcile_time_seconds_bucket[5m])\n  )\n)",
      "histogram_quantile(0.99, \n  sum by (le, controller) (\n    rate(controller_runtime_reconcile_time_seconds_bucket[5m])\n  )\n)"
    ]
  },
  {
    "name": "Controller Max Concurrent Reconciles",
    "description": "",
    "queries": [
      "sum by (controller) (controller_runtime_max_concurrent_reconciles)"
    ]
  },
  {
    "name": "Controller Reconcile Errors Rate",
    "description": "",
    "queries": [
      "sum by (controller) (rate(controller_runtime_reconcile_errors_total[5m]))"
    ]
  },
  {
    "name": "Controller Webhook Rate",
    "description": "",
    "queries": [
      "sum by (webhook, code) (rate(controller_runtime_webhook_requests_total[5m]))"
    ]
  },
  {
    "name": "Controller Active Workers",
    "description": "",
    "queries": [
      "sum by (controller) (controller_runtime_active_workers)"
    ]
  },
  {
    "name": "AWS Api Calls Rate",
    "description": "",
    "queries": [
      "sum by (operation, status_code) (rate(aws_api_calls_total[5m]))"
    ]
  },
  {
    "name": "AWS Api Calls Duration",
    "description": "",
    "queries": [
      "histogram_quantile(0.5, \n  sum by (le, operation) (\n    rate(aws_api_call_duration_seconds_bucket[5m])\n  )\n)",
      "histogram_quantile(0.9, \n  sum by (le, operation) (\n    rate(aws_api_call_duration_seconds_bucket[5m])\n  )\n)",
      "histogram_quantile(0.99, \n  sum by (le, operation) (\n    rate(aws_api_call_duration_seconds_bucket[5m])\n  )\n)"
    ]
  },
  {
    "name": "AWS Api Retries Duration",
    "description": "",
    "queries": [
      "histogram_quantile(0.5, \n  sum by (le, operation) (\n    rate(aws_api_call_retries_bucket[5m])\n  )\n)",
      "histogram_quantile(0.9, \n  sum by (le, operation) (\n    rate(aws_api_call_retries_bucket[5m])\n  )\n)",
      "histogram_quantile(0.99, \n  sum by (le, operation) (\n    rate(aws_api_call_retries_bucket[5m])\n  )\n)"
    ]
  },
  {
    "name": "Rest Client Request Rate",
    "description": "",
    "queries": [
      "sum by (method, code) (rate(rest_client_requests_total[5m]))"
    ]
  },
  {
    "name": "Rest Client Requests Latency",
    "description": "",
    "queries": [
      "histogram_quantile(0.9, \n  sum by (le, verb)(\n    rate(rest_client_request_latency_seconds_bucket[5m])\n  )\n)",
      "histogram_quantile(0.9, \n  sum by (le, verb) (\n    rate(rest_client_request_latency_seconds_bucket[5m])\n  )\n)",
      "histogram_quantile(0.99, \n  sum by (le, verb) (\n    rate(rest_client_request_latency_seconds_bucket[5m])\n  )\n)"
    ]
  }
]