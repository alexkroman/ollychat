[
  {
    "name": "Erlang Distribution outgoing traffic / s",
    "description": "",
    "queries": [
      "rate(erlang_vm_dist_send_bytes[60s]) * on(instance, job) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=~\"$rabbitmq_cluster\", namespace=\"$namespace\"}"
    ]
  },
  {
    "name": "Erlang Distribution outgoing traffic / s",
    "description": "Erlang Distribution traffic, node network traffic and CPU + PerfTest message throughput and latency",
    "queries": [
      "rate(erlang_vm_dist_send_bytes[60s]) * on(instance, job) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=~\"$rabbitmq_cluster\", namespace=\"$namespace\"}"
    ]
  },
  {
    "name": "Network incoming traffic / s",
    "description": "",
    "queries": [
      "sum by(instance) (rate(node_network_receive_bytes_total{instance=~\"$host\"}[5m]))",
      "sum by(name) (rate(container_network_receive_bytes_total{name=~\"$container\"}[1m]))"
    ]
  },
  {
    "name": "Network incoming traffic / s",
    "description": "",
    "queries": [
      "sum by(instance) (rate(node_network_receive_bytes_total{instance=~\"$host\"}[5m]))",
      "sum by(name) (rate(container_network_receive_bytes_total{name=~\"$container\"}[1m]))"
    ]
  },
  {
    "name": "Network outgoing traffic / s",
    "description": "",
    "queries": [
      "sum by(instance) (rate(node_network_transmit_bytes_total{instance=~\"$host\"}[5m]))",
      "sum by(name) (rate(container_network_transmit_bytes_total{name=~\"$container\"}[1m]))"
    ]
  },
  {
    "name": "Network outgoing traffic / s",
    "description": "",
    "queries": [
      "sum by(instance) (rate(node_network_transmit_bytes_total{instance=~\"$host\"}[5m]))",
      "sum by(name) (rate(container_network_transmit_bytes_total{name=~\"$container\"}[1m]))"
    ]
  },
  {
    "name": "CPU",
    "description": "",
    "queries": [
      "(max by (instance) (irate(node_cpu_seconds_total{job=\"node\", mode=~\"user|system|iowait|softirq\", instance=~\"$host\"}[5m])) * 100)",
      "sum by(name) (irate(container_cpu_usage_seconds_total{name=~\"$container\"}[1m])) * 100"
    ]
  },
  {
    "name": "CPU",
    "description": "",
    "queries": [
      "(max by (instance) (irate(node_cpu_seconds_total{job=\"node\", mode=~\"user|system|iowait|softirq\", instance=~\"$host\"}[5m])) * 100)",
      "sum by(name) (irate(container_cpu_usage_seconds_total{name=~\"$container\"}[1m])) * 100"
    ]
  },
  {
    "name": "Messages published / s",
    "description": "",
    "queries": [
      "perftest_published{instance=~\"$instance\"}"
    ]
  },
  {
    "name": "Messages published / s",
    "description": "",
    "queries": [
      "perftest_published{instance=~\"$instance\"}"
    ]
  },
  {
    "name": "Messages consumed / s",
    "description": "",
    "queries": [
      "perftest_consumed{instance=~\"$instance\"}"
    ]
  },
  {
    "name": "Messages consumed / s",
    "description": "",
    "queries": [
      "perftest_consumed{instance=~\"$instance\"}"
    ]
  },
  {
    "name": "End-to-end message latency",
    "description": "",
    "queries": [
      "perftest_latency_seconds{quantile=\"$percentile\", instance=~\"$instance\"}"
    ]
  },
  {
    "name": "End-to-end message latency",
    "description": "",
    "queries": [
      "perftest_latency_seconds{quantile=\"$percentile\", instance=~\"$instance\"}"
    ]
  },
  {
    "name": "End-to-end message latency distribution",
    "description": "",
    "queries": [
      "perftest_latency_seconds{quantile=\"$percentile\", instance=~\"$instance\"}"
    ]
  },
  {
    "name": "End-to-end message latency distribution",
    "description": "",
    "queries": [
      "perftest_latency_seconds{quantile=\"$percentile\", instance=~\"$instance\"}"
    ]
  }
]