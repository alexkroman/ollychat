[
  {
    "name": "Server Resource Overview【JOB：$job，Total：$total】",
    "description": "Partition utilization, disk read, disk write, download bandwidth, upload bandwidth, if there are multiple network cards or multiple partitions, it is the value of the network card or partition with the highest utilization rate collected.\n\nCurrEstab: The number of TCP connections whose current status is ESTABLISHED or CLOSE-WAIT.",
    "queries": [
      "node_uname_info - 0",
      "sum(time() - node_boot_time_seconds)by(instance)",
      "node_memory_MemTotal_bytes - 0",
      "count(node_cpu_seconds_total) by (instance)",
      "node_load5",
      "(1 - avg(rate(node_cpu_seconds_total[$interval])) by (instance)) * 100",
      "(1 - (node_memory_MemAvailable_bytes / (node_memory_MemTotal_bytes)))* 100",
      "max((node_filesystem_size_bytes-node_filesystem_free_bytes) *100/(node_filesystem_avail_bytes +(node_filesystem_size_bytes-node_filesystem_free_bytes)))by(instance)",
      "max(rate(node_disk_read_bytes_total[$interval])) by (instance)",
      "max(rate(node_disk_written_bytes_total[$interval])) by (instance)",
      "node_netstat_Tcp_CurrEstab - 0",
      "node_sockstat_TCP_tw - 0",
      "max(rate(node_network_receive_bytes_total[$interval])*8) by (instance)",
      "max(rate(node_network_transmit_bytes_total[$interval])*8) by (instance)"
    ]
  },
  {
    "name": "$job：Overall total 5m load & average CPU used%",
    "description": "",
    "queries": [
      "count(node_cpu_seconds_total)",
      "sum(node_load5)",
      "avg(1 - avg(rate(node_cpu_seconds_total[$interval])) by (instance)) * 100"
    ]
  },
  {
    "name": "$job：Overall total memory & average memory used%",
    "description": "",
    "queries": [
      "sum(node_memory_MemTotal_bytes)",
      "sum(node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)",
      "(sum(node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) / sum(node_memory_MemTotal_bytes))*100"
    ]
  },
  {
    "name": "$job：Overall total disk & average disk used%",
    "description": "",
    "queries": [
      "sum(avg(node_filesystem_size_bytes)by(device,instance))",
      "sum(avg(node_filesystem_size_bytes)by(device,instance)) - sum(avg(node_filesystem_free_bytes)by(device,instance))",
      "(sum(avg(node_filesystem_size_bytes)by(device,instance)) - sum(avg(node_filesystem_free_bytes)by(device,instance))) *100/(sum(avg(node_filesystem_avail_bytes)by(device,instance))+(sum(avg(node_filesystem_size_bytes)by(device,instance)) - sum(avg(node_filesystem_free_bytes)by(device,instance))))"
    ]
  },
  {
    "name": "Uptime",
    "description": "",
    "queries": [
      "avg(time() - node_boot_time_seconds)"
    ]
  },
  {
    "name": "",
    "description": "",
    "queries": [
      "100 - (avg(rate(node_cpu_seconds_total[$interval])) * 100)",
      "avg(rate(node_cpu_seconds_total[$interval])) * 100",
      "(1 - (node_memory_MemAvailable_bytes / (node_memory_MemTotal_bytes)))* 100",
      "(node_filesystem_size_bytes-node_filesystem_free_bytes)*100 /(node_filesystem_avail_bytes +(node_filesystem_size_bytes-node_filesystem_free_bytes))",
      "(1 - ((node_memory_SwapFree_bytes + 1)/ (node_memory_SwapTotal_bytes + 1))) * 100"
    ]
  },
  {
    "name": "【$show_hostname】：Disk Space Used Basic(EXT?/XFS)",
    "description": "In this kanban: the total disk, usage, available, and usage rate are consistent with the values of the Size, Used, Avail, and Use% columns of the df command, and the value of Use% will be rounded to one decimal place, which will be more accurate .\n\nNote: The Use% algorithm in df is: (size-free) * 100 / (avail + (size-free)), the result is divisible by this value, non-divisible by this value is +1, and the unit of the result is %.\nRefer to the df command source code:",
    "queries": [
      "node_filesystem_size_bytes-0",
      "node_filesystem_avail_bytes -0",
      "(node_filesystem_size_bytes-node_filesystem_free_bytes) *100/(node_filesystem_avail_bytes +(node_filesystem_size_bytes-node_filesystem_free_bytes))"
    ]
  },
  {
    "name": "CPU iowait",
    "description": "",
    "queries": [
      "avg(rate(node_cpu_seconds_total[$interval])) * 100"
    ]
  },
  {
    "name": "Internet traffic per hour $device",
    "description": "",
    "queries": [
      "increase(node_network_receive_bytes_total[60m])",
      "increase(node_network_transmit_bytes_total[60m])"
    ]
  },
  {
    "name": "CPU Cores",
    "description": "",
    "queries": [
      "count(node_cpu_seconds_total)"
    ]
  },
  {
    "name": "Free inodes:$maxmount ",
    "description": "",
    "queries": [
      "avg(node_filesystem_files_free)"
    ]
  },
  {
    "name": "Total RAM",
    "description": "",
    "queries": [
      "sum(node_memory_MemTotal_bytes)"
    ]
  },
  {
    "name": "Total filefd",
    "description": "",
    "queries": [
      "avg(node_filefd_maximum)"
    ]
  },
  {
    "name": "CPU% Basic",
    "description": "",
    "queries": [
      "avg(rate(node_cpu_seconds_total[$interval])) by (instance) *100",
      "avg(rate(node_cpu_seconds_total[$interval])) by (instance) *100",
      "avg(rate(node_cpu_seconds_total[$interval])) by (instance) *100",
      "(1 - avg(rate(node_cpu_seconds_total[$interval])) by (instance))*100"
    ]
  },
  {
    "name": "Memory Basic",
    "description": "",
    "queries": [
      "node_memory_MemTotal_bytes",
      "node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes",
      "node_memory_MemAvailable_bytes",
      "node_memory_Buffers_bytes",
      "node_memory_MemFree_bytes",
      "node_memory_Cached_bytes",
      "node_memory_MemTotal_bytes - (node_memory_Cached_bytes + node_memory_Buffers_bytes + node_memory_MemFree_bytes)",
      "(1 - (node_memory_MemAvailable_bytes / (node_memory_MemTotal_bytes)))* 100"
    ]
  },
  {
    "name": "Network bandwidth usage per second $device",
    "description": "",
    "queries": [
      "rate(node_network_receive_bytes_total[$interval])*8",
      "rate(node_network_transmit_bytes_total[$interval])*8"
    ]
  },
  {
    "name": "System Load",
    "description": "",
    "queries": [
      "node_load1",
      "node_load5",
      "node_load15",
      " sum(count(node_cpu_seconds_total) by (cpu,instance)) by(instance)"
    ]
  },
  {
    "name": "Disk R/W Data",
    "description": "Per second read / write bytes ",
    "queries": [
      "rate(node_disk_read_bytes_total[$interval])",
      "rate(node_disk_written_bytes_total[$interval])"
    ]
  },
  {
    "name": "Disk Space Used% Basic",
    "description": "",
    "queries": [
      "(node_filesystem_size_bytes-node_filesystem_free_bytes) *100/(node_filesystem_avail_bytes +(node_filesystem_size_bytes-node_filesystem_free_bytes))",
      "node_filesystem_files_free / node_filesystem_files"
    ]
  },
  {
    "name": "Disk IOps Completed（IOPS）",
    "description": "Read/write completions per second\n\nWrites completed: 每个磁盘分区每秒写完成次数\n\nIO now 每个磁盘分区每秒正在处理的输入/输出请求数",
    "queries": [
      "rate(node_disk_reads_completed_total[$interval])",
      "rate(node_disk_writes_completed_total[$interval])",
      "node_disk_io_now"
    ]
  },
  {
    "name": "Time Spent Doing I/Os",
    "description": "The time spent on I/O in the natural time of each second.（wall-clock time）",
    "queries": [
      "rate(node_disk_io_time_seconds_total[$interval])"
    ]
  },
  {
    "name": "Disk R/W Time(Reference: less than 100ms)(beta)",
    "description": "Time spent on each read/write operation",
    "queries": [
      "rate(node_disk_read_time_seconds_total[$interval]) / rate(node_disk_reads_completed_total[$interval])",
      "rate(node_disk_write_time_seconds_total[$interval]) / rate(node_disk_writes_completed_total[$interval])",
      "rate(node_disk_io_time_seconds_total[$interval])",
      "rate(node_disk_io_time_weighted_seconds_total[$interval])"
    ]
  },
  {
    "name": "Network Sockstat",
    "description": "Sockets_used - Sockets currently in use\n\nCurrEstab - TCP connections for which the current state is either ESTABLISHED or CLOSE- WAIT\n\nTCP_alloc - Allocated sockets\n\nTCP_tw - Sockets wating close\n\nUDP_inuse - Udp sockets currently in use\n\nRetransSegs - TCP retransmission packets\n\nOutSegs - Number of packets sent by TCP\n\nInSegs - Number of packets received by TCP",
    "queries": [
      "node_netstat_Tcp_CurrEstab",
      "node_sockstat_TCP_tw",
      "node_sockstat_sockets_used",
      "node_sockstat_UDP_inuse",
      "node_sockstat_TCP_alloc",
      "rate(node_netstat_Tcp_PassiveOpens[$interval])",
      "rate(node_netstat_Tcp_ActiveOpens[$interval])",
      "rate(node_netstat_Tcp_InSegs[$interval])",
      "rate(node_netstat_Tcp_OutSegs[$interval])",
      "rate(node_netstat_Tcp_RetransSegs[$interval])",
      "rate(node_netstat_TcpExt_ListenDrops[$interval])"
    ]
  },
  {
    "name": "Open  File Descriptor(left)/Context switches(right)",
    "description": "",
    "queries": [
      "node_filefd_allocated",
      "rate(node_context_switches_total[$interval])",
      "  (node_filefd_allocated/node_filefd_maximum) *100"
    ]
  }
]